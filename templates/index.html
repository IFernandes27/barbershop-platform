{% extends "base.html" %}
{% load i18n %}

{% block title %}{% trans "Barbershop" %}{% endblock %}

{% block content %}

<!-- Hero -->
<section class="bg-dark text-light py-5">
  <div class="container py-4 text-center">
    <h1 class="display-4 fw-semibold mb-3">{% trans "Bem-vindo à Barbershop" %}</h1>
    <p class="lead text-white-50 mb-4">
      {% trans "Agende o seu corte com os melhores profissionais" %}
    </p>
    <div class="d-flex justify-content-center gap-3">
      <a class="btn btn-primary btn-lg" href="{% url 'bookings:services_list' %}">
        {% trans "Marcar Agora" %}
      </a>
      <a class="btn btn-outline-light btn-lg" href="{% url 'bookings:services_list' %}">
        {% trans "Ver Serviços" %}
      </a>
    </div>
  </div>
</section>

<!-- Nossos Serviços -->
<section class="py-5">
  <div class="container">
    <h2 class="text-center mb-5">{% trans "Nossos Serviços" %}</h2>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
      {% for s in servicos %}
        <div class="col">
          <div class="card h-100 shadow-sm">
            {% if s.image %}
              <img class="card-img-top object-fit-cover" style="aspect-ratio: 4/3;"
                   src="{{ s.image.url }}" alt="{{ s.nome }}">
            {% endif %}
            <div class="card-body d-flex flex-column">
              <h5 class="card-title text-center">{{ s.nome }}</h5>

              {% if s.preco is not None %}
                <p class="text-center mb-3 fs-6 fw-semibold">{{ s.preco }} €</p>
              {% endif %}

              <div class="mt-auto text-center">
                <a class="btn btn-primary" href="{% url 'bookings:choose_barber' s.id %}">
                  {% trans "Agendar" %}
                </a>
              </div>
            </div>
          </div>
        </div>
      {% empty %}
        <div class="col-12">
          <div class="alert alert-info mb-0">
            {% trans "Ainda não há serviços cadastrados." %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Lista de Preços -->
<section class="pb-5">
  <div class="container">
    <div class="row g-4 align-items-stretch">
      <!-- Cartão com imagem à esquerda -->
      <div class="col-lg-6">
        <div class="pricing-hero h-100 rounded-4 p-5 d-flex flex-column justify-content-center text-light position-relative overflow-hidden">
          <div class="bg-image"></div>
          <div class="position-relative">
            <h3 class="pricing-title mb-3">{% trans "Tabelas de Preços" %}</h3>
            <p class="text-white-50 mb-0 fs-5">
              {% blocktrans %}Escolha o serviço ideal para você.{% endblocktrans %}<br>
              {% blocktrans %}Valores transparentes e qualidade garantida.{% endblocktrans %}
            </p>
          </div>
        </div>
      </div>

      <!-- Lista com preços à direita -->
      <div class="col-lg-6">
        <div class="list-group rounded-4 shadow-sm overflow-hidden">
          {% for s in servicos_precos %}
            <div class="list-group-item list-group-item-action py-4 d-flex justify-content-between align-items-center">
              <div class="me-3">
                <div class="fw-semibold">{{ s.nome }}</div>
                {% if s.duracao_min %}
                  <div class="text-muted small mt-1">&bull; {{ s.duracao_min }} {% trans "min" %}</div>
                {% endif %}
              </div>
              <div class="fs-5 fw-bold">{{ s.preco }}€</div>
            </div>
          {% empty %}
            <div class="list-group-item py-4 text-center text-muted">
              {% trans "Nenhum serviço disponível no momento." %}
            </div>
          {% endfor %}
        </div>

        <div class="mt-3">
          <a href="{% url 'bookings:services_list' %}" class="btn btn-outline-secondary btn-lg rounded-4">
            {% trans "Ver todos os serviços" %}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}
