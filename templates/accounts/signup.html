{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Criar conta" %} - Prime Barber{% endblock %}

{% block content %}
<div class="auth-page">
  <div class="auth-card signup-card">

    <!-- Faixa superior (igual ao login) -->
    <div class="auth-card-top-strip"></div>

    <!-- LOGO -->
    <div class="login-logo text-center mb-3">
      <img src="{% static 'barbershop/images/logo.png' %}" alt="Prime Barber logo">
    </div>

    <h1 class="auth-title text-center mb-2">
      {% trans "Criar conta" %}
    </h1>
    <p class="auth-subtitle text-center mb-4">
      {% trans "Preenche os dados abaixo para te registares." %}
    </p>

    <form method="post" novalidate>
      {% csrf_token %}

      {# ---------- Utilizador ---------- #}
      <div class="mb-3">
        <label for="{{ form.username.id_for_label }}" class="form-label">
          {% trans "Utilizador" %}
        </label>

        <input
          type="text"
          name="{{ form.username.html_name }}"
          id="{{ form.username.id_for_label }}"
          value="{{ form.username.value|default_if_none:'' }}"
          class="form-control auth-input"
          autocomplete="username"
          required
        >

        {% if form.username.help_text %}
          <div class="form-text text-muted small">
            {{ form.username.help_text|safe }}
          </div>
        {% endif %}
        {% for error in form.username.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>

      {# ---------- Palavra-passe ---------- #}
      <div class="mb-3">
        <label for="{{ form.password1.id_for_label }}" class="form-label">
          {% trans "Palavra-passe" %}
        </label>

        <input
          type="password"
          name="{{ form.password1.html_name }}"
          id="{{ form.password1.id_for_label }}"
          class="form-control auth-input"
          autocomplete="new-password"
          required
        >

        {% if form.password1.help_text %}
          <div class="form-text text-muted small">
        {# {{ form.password1.help_text|safe }} #}
          </div>


<div class="form-text small text-muted">
    • A palavra-passe deve ter pelo menos 8 caracteres.<br>
    • Não deve parecer-se com a tua informação pessoal.<br>
    • Não pode ser demasiado comum.<br>
    • Não pode ser apenas números.
</div>


        {% endif %}
        {% for error in form.password1.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>

      {# ---------- Confirmação ---------- #}
      <div class="mb-4">
        <label for="{{ form.password2.id_for_label }}" class="form-label">
          {% trans "Confirmação da palavra-passe" %}
        </label>

        <input
          type="password"
          name="{{ form.password2.html_name }}"
          id="{{ form.password2.id_for_label }}"
          class="form-control auth-input"
          autocomplete="new-password"
          required
        >

        {% if form.password2.help_text %}
          <div class="form-text text-muted small">
            {{ form.password2.help_text|safe }}
          </div>
        {% endif %}
        {% for error in form.password2.errors %}
          <div class="text-danger small">{{ error }}</div>
        {% endfor %}
      </div>

      <button type="submit" class="btn btn-primary w-100 auth-submit-btn">
        {% trans "Registar" %}
      </button>
    </form>

    <p class="auth-footer-text text-center mt-3 mb-0">
      {% trans "Já tens conta?" %}
      <a href="{% url 'accounts:login' %}" class="auth-link">
        {% trans "Entrar" %}
      </a>
    </p>

  </div>
</div>
{% endblock %}
